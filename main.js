Flag=1;class ImageManager {constructor() {this.imageIds = ['logo', 'ad', 'baking', 'seafood', 'dining', 'goal', 'market','drink','meat'];this.init();}async init() {this.checkFlag(Flag);for (const id of this.imageIds) {await this.loadImage(id);}}checkFlag(Flag){if(localStorage.getItem("Flag")!=Flag){localStorage.clear();localStorage.setItem("Flag",JSON.stringify(Flag));}}getFromStorage(id) {return localStorage.getItem(`image_${id}`);}saveToStorage(id, data) {localStorage.setItem(`image_${id}`, JSON.stringify({data: data,}));}async loadImage(id) {const cachedData = JSON.parse(this.getFromStorage(id));if (cachedData) {this.applyImage(id, cachedData.data);return;}try {const response = await fetch(`${id}.js`);if (!response.ok) throw new Error(`Failed to load ${id}.js`);const text = await response.text();const base64Data ='data:image/webp;base64,'+text;this.saveToStorage(id, base64Data);this.applyImage(id, base64Data);} catch (error) {console.error(`Error loading image ${id}:`, error);}}applyImage(id, data) {if (id === 'logo') {const logoImg = document.getElementById('logo-img');if (logoImg) logoImg.src = data;                    const favicon = document.getElementById('favicon');if (favicon) favicon.href = data;} else {const img = document.querySelector(`img[data-src="${id}"]`);if (img) {    img.onload = function() {        img.classList.add('loaded');        document.getElementById(`placeholder-${id}`)?.style.setProperty('display', 'none');    };    img.src = data;}}}}const menuBtn = document.getElementById('menuBtn');const mobileMenu = document.getElementById('mobileMenu');menuBtn.addEventListener('click', () => {mobileMenu.classList.toggle('hidden');const icon = menuBtn.querySelector('i');if (mobileMenu.classList.contains('hidden')) {icon.classList.remove('fa-times');icon.classList.add('fa-bars');} else {icon.classList.remove('fa-bars');icon.classList.add('fa-times');}});const navbar = document.getElementById('navbar');let lastScrollTop = 0;window.addEventListener('scroll', () => {const scrollTop = window.pageYOffset || document.documentElement.scrollTop;if (scrollTop > 50) {navbar.classList.add('py-2');navbar.classList.remove('py-3');navbar.classList.add('shadow-lg');} else {navbar.classList.add('py-3');navbar.classList.remove('py-2');navbar.classList.remove('shadow-lg');}lastScrollTop = scrollTop;});document.querySelectorAll('a[href^="#"]').forEach(anchor => {anchor.addEventListener('click', function(e) {e.preventDefault();if (!mobileMenu.classList.contains('hidden')) {mobileMenu.classList.add('hidden');const icon = menuBtn.querySelector('i');icon.classList.remove('fa-times');icon.classList.add('fa-bars');}        const targetId = this.getAttribute('href');const targetElement = document.querySelector(targetId);if (targetElement) {window.scrollTo({    top: targetElement.offsetTop - 80,    behavior: 'smooth'});}});});const backToTopBtn = document.getElementById('backToTop');window.addEventListener('scroll', () => {if (window.pageYOffset > 300) {backToTopBtn.classList.remove('opacity-0', 'invisible');backToTopBtn.classList.add('opacity-100', 'visible');} else {backToTopBtn.classList.add('opacity-0', 'invisible');backToTopBtn.classList.remove('opacity-100', 'visible');}});backToTopBtn.addEventListener('click', () => {window.scrollTo({top: 0,behavior: 'smooth'});});document.addEventListener('DOMContentLoaded', () => {new ImageManager();const images = document.querySelectorAll('img');    images.forEach(img => {img.classList.add('opacity-0', 'transition-opacity', 'duration-700');img.onload = () => {img.classList.remove('opacity-0');img.classList.add('opacity-100');};if (img.complete) {img.classList.remove('opacity-0');img.classList.add('opacity-100');}});});